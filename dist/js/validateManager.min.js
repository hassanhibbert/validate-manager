var validateManager=function(){"use strict";function e(e){e&&"object"==typeof e&&(E=a(S,e)),O=F.getElementList(E.formId)[0],M=F.getElementList(E.submitButton)[0],E.validateOnKeyUp&&(C=F.oncePerItem(),O.addEventListener("keyup",r,!1)),O.addEventListener("change",i,!1),O.addEventListener("submit",t,!1),M.disabled=!0,q.collection.forEach(u),q.collection.forEach(o)}function n(e){e.forEach(function(e){e.rules?m(e):q.collection.push(e)})}function t(e){e.preventDefault(),s()&&0===q.errorMessage.length&&d(function(e){E.successCallback(e),M.disabled=!0,q.successValues=[],E.resetFormOnSubmit&&O.reset()})}function r(e){e.preventDefault();var n=e.keyCode||e.which;C(e.target.id)&&9===n||(g(e.target),f())}function i(e){e.preventDefault(),g(e.target),f()}function u(e){var n=e.name?document.forms[O.id][e.name]:F.getElementList(e.input)[0];a(e,{input:n,id:k.createNewId()})}function o(e){if(x=F.createNode({type:"div",attr:{"class":"error-message",id:"error-mgn-"+e.id,style:"display:none"}}),"[object RadioNodeList]"===Object.prototype.toString.call(e.input)){var n=e.input.length;F.insertAfter(x,e.input[n-1])}else F.insertAfter(x,e.input)}function a(e,n){var t;for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function c(){return q.collection.filter(function(e){return e.required})}function l(){return c().filter(function(e){return F.hasValue(e.input.value)})}function s(){return l().length===c().length}function f(){M.disabled=!s()||0!==q.errorMessage.length}function d(e){var n="";q.collection.forEach(function(e){n!=e.input.id&&(q.successValues.push({id:e.input.id||e.name,value:e.input.value}),n=e.input.id)}),e(q.successValues)}function h(e){return q.collection.filter(function(n){return n.input.id==e})}function p(e){return q.collection.filter(function(n){return n.name==e})}function g(e){var n="radio"===e.getAttribute("type")?p(e.name):h(e.id);n.length>1?n.forEach(function(e){L(e)}):L(n[0])}function m(e){e.rules.forEach(function(n){q.collection.push(a({validateFn:n.validateFn,error:n.error},e))})}function v(e){return"[object RadioNodeList]"===Object.prototype.toString.call(e)}function y(e){for(var n=Object.keys(e),t=0;t<n.length;t++){if("maxLength"===n[t])return{currLength:e.input.value.length,maxLength:e.maxLength};if("minLength"===n[t])return{currLength:e.input.value.length,maxLength:e.minLength};if("equalTo"===n[t])return{currValue:e.input.value,selector:e.equalTo};if("name"===n[t])return e.input}return e.input.value}function L(e){var n=y(e);e.validateFn(n)?b(e):N(e)}function b(e){var n=document.querySelector("#error-mgn-"+e.id);q.errorMessage.indexOf(e.error)>=0?(q.errorMessage=q.errorMessage.filter(function(n){return n!=e.error}),n.style.display="none",v(e.input)||F.removeClass(e.input,"error-highlight")):(n.style.display="none",v(e.input)||F.removeClass(e.input,"error-highlight"))}function N(e){var n=document.querySelector("#error-mgn-"+e.id);q.errorMessage.indexOf(e.error)<0?(q.errorMessage.push(e.error),F.html(n,e.error),n.style.display="block",v(e.input)||F.addClass(e.input,"error-highlight")):(n.style.display="block",v(e.input)||F.addClass(e.input,"error-highlight"))}var E,x,O,M,C,A={},F={},S={formId:null,successCallback:null,resetFormOnSubmit:!0,validateOnKeyUp:!1},k={id:0,createNewId:function(){return this.id+=1}},q={successValues:[],collection:[],errorMessage:[]},V={config:n,init:e,extend:a,fn:A,helperFn:F};return V}();validateManager.extend(validateManager.fn,{hasValue:function(e){return!(0===e.length||""==e.trim()||null==e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isAlpha:function(e){var n=/[0-9]+/;return!n.test(e)},maxLength:function(e){return e.currLength<=e.maxLength},minLength:function(e){return e.currLength>=e.minLength},equalTo:function(e){var n=document.querySelector(e.selector);return e.currValue===n.value},email:function(e){var n=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)},radio:function(e){for(var n=0;n<e.length;++n)if(e[n].checked)return!0;return!1}}),validateManager.extend(validateManager.helperFn,{hasClass:function(e,n){return e.className&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(e.className)},addClass:function(e,n){e.className.indexOf(n)===-1&&(""!=e.className&&(n=" "+n),e.className+=n)},removeClass:function(e,n){if(e.className.indexOf(n)!=-1){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t," ").trim()}},getElementList:function(e){return"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)):"undefined"==typeof e||e instanceof Array?e:[e]},createNode:function(e){var n=e.type,t=e.attr,r=e.content,i=document.createElement(n);return t&&Object.keys(t).forEach(function(e){i.setAttribute(e,t[e])}),r&&r.forEach(function(e){"string"==typeof e?i.appendChild(document.createTextNode(e)):i.appendChild(e)}),i},insertAfter:function(e,n){var t=n.parentNode;t.insertBefore(e,n.nextSibling)},html:function(e,n){e.innerHTML=n},exists:function(e){return document.querySelectorAll(e).length>0},removeNode:function(e){e.parentNode.removeChild(e)},removeElement:function(e){helperFn.getElementList(e).forEach(function(e){helperFn.removeNode(e)})},once:function(){var e=[];return function(n,t){e.indexOf(t)<0&&(e.push(t),n())}},oncePerItem:function(){var e=[];return function(n){return e.indexOf(n)<0&&(e.push(n),!0)}},hasValue:function(e){return!(0===e.length||""==e.trim()||null==e)}});