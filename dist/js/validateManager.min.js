var validateManager=function(){"use strict";function e(e){e&&"object"==typeof e&&(E=a(k,e)),O=S.getElementList(E.formId)[0],M=S.getElementList(E.submitButton)[0],E.validateOnKeyUp&&(C=S.oncePerItem(),O.addEventListener("keyup",r,!1)),O.addEventListener("change",i,!1),O.addEventListener("submit",n,!1),M.disabled=!0,V.collection.forEach(u),V.collection.forEach(o)}function t(e){e.forEach(function(e){e.rules?g(e):V.collection.push(e)})}function n(e){e.preventDefault(),s()&&0===V.errorMessage.length&&d(function(e){E.successCallback(e),M.disabled=!0,V.successValues=[],E.resetFormOnSubmit&&O.reset()})}function r(e){e.preventDefault();var t=e.keyCode||e.which;C(e.target.id)&&9===t||(p(e.target),f())}function i(e){e.preventDefault(),p(e.target),f()}function u(e){var t=e.name?document.forms[O.id][e.name]:S.getElementList(e.input)[0];a(e,{input:t,id:q.createNewId()})}function o(e){if(x=S.createNode({type:"div",attr:{"class":"error-message",id:"error-mgn-"+e.id,style:"display:none"}}),"[object RadioNodeList]"===Object.prototype.toString.call(e.input)){var t=e.input.length;S.insertAfter(x,e.input[t-1])}else S.insertAfter(x,e.input)}function a(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(){return V.collection.filter(function(e){return e.required})}function l(){return c().filter(function(e){return S.hasValue(e.input.value)})}function s(){return l().length===c().length}function f(){M.disabled=!s()||0!==V.errorMessage.length}function d(e){var t="";V.collection.forEach(function(e){t!=e.input.id&&(V.successValues.push({id:e.input.id||e.name,value:e.input.value}),t=e.input.id)}),e(V.successValues)}function h(e){return V.collection.filter(function(t){return t.input.id==e})}function m(e){return V.collection.filter(function(t){return t.name==e})}function p(e){var t="radio"===e.getAttribute("type")?m(e.name):h(e.id);t.length>1?t.forEach(function(e){L(e)}):L(t[0])}function g(e){e.rules.forEach(function(t){V.collection.push(a({method:t.method,error:t.error},e))})}function v(e){return"[object RadioNodeList]"===Object.prototype.toString.call(e)}function y(e){for(var t=Object.keys(e),n=0;n<t.length;n++){if("maxLength"===t[n])return{currLength:e.input.value.length,maxLength:e.maxLength};if("minLength"===t[n])return{currLength:e.input.value.length,minLength:e.minLength};if("equalTo"===t[n])return{currValue:e.input.value,selector:e.equalTo};if("name"===t[n])return e.input}return e.input.value}function L(e){var t=y(e);e.method(t)?b(e):N(e)}function b(e){var t=document.querySelector("#error-mgn-"+e.id);V.errorMessage.indexOf(e.error)>=0?(V.errorMessage=V.errorMessage.filter(function(t){return t!=e.error}),t.style.display="none",v(e.input)||S.removeClass(e.input,"error-highlight")):(t.style.display="none",v(e.input)||S.removeClass(e.input,"error-highlight"))}function N(e){var t=document.querySelector("#error-mgn-"+e.id);V.errorMessage.indexOf(e.error)<0?(V.errorMessage.push(e.error),S.html(t,e.error),t.style.display="block",v(e.input)||S.addClass(e.input,"error-highlight")):(t.style.display="block",v(e.input)||S.addClass(e.input,"error-highlight"))}var E,x,O,M,C,A={},S={},k={formId:null,successCallback:null,resetFormOnSubmit:!0,validateOnKeyUp:!1},q={id:0,createNewId:function(){return this.id+=1}},V={successValues:[],collection:[],errorMessage:[]},F={config:t,init:e,extend:a,method:A,helperFn:S};return F}();validateManager.extend(validateManager.method,{hasValue:function(e){return!(0===e.length||""==e.trim()||null==e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isAlpha:function(e){var t=/[0-9]+/;return!t.test(e)},maxLength:function(e){return e.currLength<=e.maxLength},minLength:function(e){return e.currLength>=e.minLength},equalTo:function(e){var t=document.querySelector(e.selector);return e.currValue===t.value},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},radio:function(e){for(var t=0;t<e.length;++t)if(e[t].checked)return!0;return!1}}),validateManager.extend(validateManager.helperFn,{hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},addClass:function(e,t){e.className.indexOf(t)===-1&&(""!=e.className&&(t=" "+t),e.className+=t)},removeClass:function(e,t){if(e.className.indexOf(t)!=-1){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},getElementList:function(e){return"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)):"undefined"==typeof e||e instanceof Array?e:[e]},createNode:function(e){var t=e.type,n=e.attr,r=e.content,i=document.createElement(t);return n&&Object.keys(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&r.forEach(function(e){"string"==typeof e?i.appendChild(document.createTextNode(e)):i.appendChild(e)}),i},insertAfter:function(e,t){var n=t.parentNode;n.insertBefore(e,t.nextSibling)},html:function(e,t){e.innerHTML=t},exists:function(e){return document.querySelectorAll(e).length>0},removeNode:function(e){e.parentNode.removeChild(e)},removeElement:function(e){helperFn.getElementList(e).forEach(function(e){helperFn.removeNode(e)})},once:function(){var e=[];return function(t,n){e.indexOf(n)<0&&(e.push(n),t())}},oncePerItem:function(){var e=[];return function(t){return e.indexOf(t)<0&&(e.push(t),!0)}},hasValue:function(e){return!(0===e.length||""==e.trim()||null==e)}});